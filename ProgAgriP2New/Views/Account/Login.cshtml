@model ProgAgriP2New.Models.ViewModels.LoginViewModel

@{
    ViewData["Title"] = "Login";
}

<div class="row justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="col-md-6">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0">Login</h2>
            </div>
            <div class="card-body">
                <form asp-action="Login" method="post">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                    <div class="form-group mb-3">
                        <label for="UserType">Login As:</label>
                        <select class="form-control" id="UserType" name="UserType">
                            <option value="Farmer">Farmer</option>
                            <option value="Employee">Employee</option>
                        </select>
                    </div>

                    <div class="form-group mb-3">
                        <label for="Email">Email:</label>
                        <input type="email" class="form-control" id="Email" name="Email" required />
                    </div>

                    <div class="form-group mb-3">
                        <label for="Password">Password:</label>
                        <div class="input-group">
                            <input type="password" class="form-control" id="Password" name="Password" required />
                            <button type="button" class="btn btn-outline-secondary" id="togglePassword">
                                <i class="bi bi-eye" id="toggleIcon"></i> Show
                            </button>
                        </div>
                    </div>

                    <div class="form-group text-center">
                        <button type="submit" class="btn btn-primary">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const togglePassword = document.getElementById('togglePassword');
            const passwordInput = document.getElementById('Password');
            const toggleIcon = document.getElementById('toggleIcon');

            togglePassword.addEventListener('click', function() {
                // Toggle the password field type
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);

                // Toggle the button text and icon
                if (type === 'text') {
                    togglePassword.textContent = ' Hide';
                    togglePassword.prepend(document.createElement('i'));
                    togglePassword.querySelector('i').className = 'bi bi-eye-slash';
                } else {
                    togglePassword.textContent = ' Show';
                    togglePassword.prepend(document.createElement('i'));
                    togglePassword.querySelector('i').className = 'bi bi-eye';
                }
            });
        });
    </script>
}